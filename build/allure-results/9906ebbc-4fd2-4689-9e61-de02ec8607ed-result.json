{"name": "PATCH /users/2", "status": "failed", "statusDetails": {"message": "AssertionError: ❌ Ожидался статус 200, но получен 401\nURL: https://reqres.in/api/users/2\nОтвет: {\"error\":\"Missing API key\"}", "trace": "@allure.title(\"PATCH /users/2\")\n    def test_update_user_patch():\n        with allure.step(\"Обновляем пользователя (PATCH)\"):\n            payload = {\"job\": \"Automation Architect\"}\n            resp = client.request(\"PATCH\", \"/users/2\", json=payload)\n>           assert_status_code(resp, 200)\n\ntests/test_api.py:49: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [401]>, expected_codes = (200,), status_code = 401\nexpected_str = '200'\n\n    def assert_status_code(response, *expected_codes):\n        \"\"\"\n        Проверяет, что статус-код входит в список допустимых.\n        \"\"\"\n        status_code = response.status_code\n        expected_str = \", \".join(map(str, expected_codes))\n    \n        if status_code not in expected_codes:\n            allure.attach(\n                response.text,\n                name=f\"Response body ({status_code})\",\n                attachment_type=allure.attachment_type.JSON\n            )\n>           raise AssertionError(\n                f\"❌ Ожидался статус {expected_str}, но получен {status_code}\\n\"\n                f\"URL: {response.url}\\n\"\n                f\"Ответ: {response.text}\"\n            )\nE           AssertionError: ❌ Ожидался статус 200, но получен 401\nE           URL: https://reqres.in/api/users/2\nE           Ответ: {\"error\":\"Missing API key\"}\n\nsrc/framework/utils/assertions.py:18: AssertionError"}, "steps": [{"name": "Обновляем пользователя (PATCH)", "status": "failed", "statusDetails": {"message": "AssertionError: ❌ Ожидался статус 200, но получен 401\nURL: https://reqres.in/api/users/2\nОтвет: {\"error\":\"Missing API key\"}\n", "trace": "  File \"/Users/rustam/Desktop/pythonProjects/new_py_api_ui/tests/test_api.py\", line 49, in test_update_user_patch\n    assert_status_code(resp, 200)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/Users/rustam/Desktop/pythonProjects/new_py_api_ui/src/framework/utils/assertions.py\", line 18, in assert_status_code\n    raise AssertionError(\n    ...<3 lines>...\n    )\n"}, "steps": [{"name": "Отправляем 'PATCH' запрос на '/users/2'", "status": "passed", "attachments": [{"name": "Request", "source": "221fd318-e82f-4eb2-86c9-a81fea21ae08-attachment.json", "type": "application/json"}, {"name": "Response", "source": "4d99aae1-e4f5-41ed-8345-b8a7c125099b-attachment.json", "type": "application/json"}], "parameters": [{"name": "method", "value": "'PATCH'"}, {"name": "endpoint", "value": "'/users/2'"}, {"name": "json", "value": "{'job': 'Automation Architect'}"}], "start": 1761658763944, "stop": 1761658764306}], "attachments": [{"name": "Response body (401)", "source": "f643f038-3903-4d16-bb96-d4bbe7b46cdc-attachment.json", "type": "application/json"}], "start": 1761658763944, "stop": 1761658764306}], "start": 1761658763944, "stop": 1761658764308, "uuid": "4ad4e41f-942c-4232-89d9-1b8b3f2c44fb", "historyId": "2ee7ffe9fd5026e11ac9bb6bca8100b6", "testCaseId": "2ee7ffe9fd5026e11ac9bb6bca8100b6", "fullName": "tests.test_api#test_update_user_patch", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_api"}, {"name": "host", "value": "Rustams-MacBook-Pro.local"}, {"name": "thread", "value": "15145-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_api"}]}